version: "2.0"

stories:
  - story: greet path
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service

  - story: register when service tag approved 1
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service
      - intent: affirm
      - action: action_restart
      - action: utter_service
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service

  - story: register when service tag approved 2
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service
      - intent: deny
      - action: utter_goodbye
      - action: action_restart

  - story: register when service tag approved 1
    steps:
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service
      - intent: affirm
      - action: action_restart
      - action: utter_service
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service

  - story: register when service tag approved 2
    steps:
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: true
      - action: utter_ask_id
      - intent: supply_id
        entities:
          - tenant_id
      - action: utter_ask_domain
      - intent: supply_domain
        entities:
            - tenant_domain
      - action: action_get_status
      - action: utter_more_service
      - intent: deny
      - action: utter_goodbye
      - action: action_restart

  - story: register when service tag not approved 1
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: false
      - action: utter_more_service
      - action: action_restart

  - story: show details when user doesnt exist 2
    steps:
      - intent: register
      - action: utter_ask_tag
      - intent: supply_tag
        entities:
          - service_tag
      - action: action_check_tag
      - slot_was_set:
        - check: false
      - action: utter_more_service
      - action: action_restart

  - story: news path 1
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service
      - intent: affirm
      - action: utter_service
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service
  - story: news path 2
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_service
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service
      - intent: deny
      - action: utter_goodbye
      - action: action_restart
  - story: news path 1
    steps:
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service
      - intent: affirm
      - action: utter_service
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service

    
  - story: news path 2
    steps:
      - intent: current_matches
      - action: action_match_news
      - action: utter_more_service
      - intent: deny
      - action: utter_goodbye
      - action: action_restart

  # - story: change email 1
  #   steps:
  #     - intent: greet
  #     - action: utter_greet
  #     - action: utter_service
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service
  #     - intent: affirm
  #     - action: utter_service
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service

  # - story: change email 2
  #   steps:
  #     - intent: greet
  #     - action: utter_greet
  #     - action: utter_service
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service
  #     - intent: deny
  #     - action: utter_goodbye
  #     - action: action_restart

  

  # - story: change email 1
  #   steps:
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service
  #     - intent: affirm
  #     - action: utter_service
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service

  # - story: change email 2
  #   steps:
  #     - intent: change_email
  #     - action: utter_ask_empid
  #     - intent: supply_empid
  #       entities:
  #         - empid
  #     - action: utter_ask_new_email
  #     - intent: supply_email
  #       entities:
  #         - email
  #     - action: action_update_email
  #     - action: utter_more_service
  #     - intent: deny
  #     - action: utter_goodbye
  #     - action: action_restart
